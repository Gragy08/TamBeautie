extends ../layouts/default.pug

block main
  .row
    .col-12
      .card
        .card-header
          .row.align-items-center
            .col
              h4.card-title #{pageTitle}
            // end col
            .col-auto
              a.btn.btn-primary(
                href=`/${pathAdmin}/booking/create`
                )
                i.fa-solid.fa-plus.me-1
                | Tạo đơn khám
          // end row
        // end card-header
        .card-body.pt-0
          //- Table
          .table-responsive
            table.table.table-striped.mb-0
              thead.table-light
                tr
                  th STT
                  th Tên khách hàng
                  th SĐT khách hàng
                  th Tên dịch vụ
                  th Ngày sử dụng dịch vụ
                  th Giá dịch vụ
                  th Khách đã cọc
                  th Khách thanh toán
                  th Trạng thái
                  th.text-end Hành động
              tbody
                if(bookingList.length > 0)
                  each item, index in bookingList
                    tr
                      //- td #{pagination.skip + index + 1}
                      td #{index + 1}
                      td #{item.contactName}
                      td #{item.contactPhone}
                      td #{item.name}
                      td #{item.formatedDate}
                      td #{item.price}
                      td 500
                      td #{item.pay}
                      td
                        if (item.status == "success")
                          span.badge.bg-success Hoàn thành
                        if (item.status == "unsuccess")
                          span.badge.bg-secondary Chưa Hoàn thành
                        else if (item.status == "guarantee")
                          span.badge.bg-warning Bảo hành
                        else if (item.status == "cancel")
                          span.badge.bg-danger Hủy
                      td.text-end
                        a(href="#" style="font-size: 20px")
                            i.las.la-eye.text-info.font-16.me-1
                        a(href=`/${pathAdmin}/booking/edit/${item.contactId}/${item._id}` style="font-size: 20px")
                            i.las.la-pen.text-warning.font-16.me-1
                        a(
                            href="javascript:;"
                            button-api
                            data-method="PATCH"
                            data-api=`/${pathAdmin}/booking/delete/${item.contactId}/${item._id}`
                            style="font-size: 20px"
                            )
                            i.las.la-trash-alt.text-danger.font-16
                else
                  tr
                    td(colspan="6" class="text-center") Không tìm thấy dữ liệu
          //- .row.mt-3
          //-   .col-lg-2.col-md-3.col-6
          //-     select.form-select(pagination)
          //-       - for (let i = 1; i <= pagination.totalPage; i++)
          //-         option(value=i) Trang #{i}
    // end col
